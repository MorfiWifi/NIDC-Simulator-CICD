@inherits Panel16.Pages.Components.RangedComponent

<g
    id="Choke_Position_Components">
    <path
        id="circle16306"
        style="fill:#ffffff;fill-opacity:1;stroke:#808080;stroke-width:0.977968;stroke-linecap:square;stroke-opacity:1;paint-order:stroke fill markers"
        d="m 398.40597,148.44391 a 44.375755,45.67187 0 0 0 -29.71892,13.34507 44.375755,45.67187 0 0 0 -12.96637,32.29518 h 88.71686 a 44.375755,45.67187 0 0 0 -12.99366,-32.29518 44.375755,45.67187 0 0 0 -33.03791,-13.34507 z"/>
    <g id="handle" class="rotate-@GageStyleId" style="transform: rotate(@(angle)deg);">
        <g
            id="g16312"
            style="stroke:none"
            transform="rotate(65,387.27591,248.73864)">
            <circle
                style="fill:#ffffff;fill-opacity:0;stroke:none;stroke-width:0.967048;stroke-linecap:square;stroke-opacity:1;paint-order:stroke fill markers"
                id="circle16285"
                cx="-393.0795"
                cy="90.963303"
                r="44.516476"
                transform="rotate(-135)"/>
            <rect
                style="fill:#999999;fill-opacity:0.537778;stroke:#808080;stroke-width:0.883999;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                id="rect16289"
                width="2.0219939"
                height="44.516476"
                x="-394.09052"
                y="46.646839"
                rx="2"
                ry="2"
                transform="rotate(-135)"/>
            <circle
                style="fill:#999999;fill-opacity:1;stroke:#808080;stroke-width:1.04281;stroke-linecap:square;stroke-opacity:1;paint-order:stroke fill markers"
                id="circle16287"
                cx="-393.0795"
                cy="90.963303"
                r="2.4263926"
                transform="rotate(-135,-2.3247921e-7,6.4939024e-6)"/>
        </g>
    </g>
    <g
        id="g24823">
        <g
            id="g16394"
            transform="translate(338.64279,98.277122)">
            <g
                id="g16392">
                <rect
                    style="fill:#333333;fill-opacity:1;stroke:#808080;stroke-width:0.783868;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                    id="rect16384"
                    width="57.383041"
                    height="31.086678"
                    x="32.969814"
                    y="104.02135"/>
                <text
                    xml:space="preserve"
                    style="font-size:7.7611px;text-align:center;text-anchor:middle;fill:#cccccc;fill-opacity:1;stroke:none;stroke-width:0.883999;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                    x="61.51733"
                    y="117.4463"
                    id="text16390"
                    inkscape:label="text14684">
                    <tspan
                        sodipodi:role="line"
                        style="fill:#cccccc;stroke-width:0.884"
                        x="81.51733"
                        y="117.4463"
                        id="tspan16388">
                        CHOKE
                    </tspan>
                    <tspan
                        sodipodi:role="line"
                        style="fill:#cccccc;stroke-width:0.884"
                        x="61.51733"
                        y="127.14767"
                        id="tspan24815">
                        POSITION
                    </tspan>
                </text>
            </g>
        </g>
    </g>
    <text
        xml:space="preserve"
        style="font-size:5.64444px;text-align:center;text-anchor:middle;fill:#1a1a1a;fill-opacity:1;stroke:none;stroke-width:0.706001;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
        x="363.00833"
        y="174.94987"
        id="text24186">
        <tspan
            sodipodi:role="line"
            id="tspan24184"
            style="stroke-width:0.706"
            x="363.00833"
            y="174.94987">
            @GetLabel(0)
        </tspan>
    </text>
    <text
        xml:space="preserve"
        style="font-size:5.64444px;text-align:center;text-anchor:middle;fill:#1a1a1a;fill-opacity:1;stroke:none;stroke-width:0.706001;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
        x="373.70035"
        y="164.39488"
        id="text24190">
        <tspan
            sodipodi:role="line"
            id="tspan24188"
            style="stroke-width:0.706"
            x="373.70035"
            y="164.39488">
            2
        </tspan>
    </text>
    <text
        xml:space="preserve"
        style="font-size:5.64444px;text-align:center;text-anchor:middle;fill:#1a1a1a;fill-opacity:1;stroke:none;stroke-width:0.706001;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
        x="386.30185"
        y="156.1418"
        id="text24194">
        <tspan
            sodipodi:role="line"
            id="tspan24192"
            style="stroke-width:0.706"
            x="386.30185"
            y="156.1418">
            4
        </tspan>
    </text>
    <text
        xml:space="preserve"
        style="font-size:5.64444px;text-align:center;text-anchor:middle;fill:#1a1a1a;fill-opacity:1;stroke:none;stroke-width:0.706001;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
        x="413.71426"
        y="156.23155"
        id="text24198">
        <tspan
            sodipodi:role="line"
            id="tspan24196"
            style="stroke-width:0.706"
            x="413.71426"
            y="156.23155">
            6
        </tspan>
    </text>
    <text
        xml:space="preserve"
        style="font-size:5.64444px;text-align:center;text-anchor:middle;fill:#1a1a1a;fill-opacity:1;stroke:none;stroke-width:0.706001;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
        x="427.97311"
        y="164.37007"
        id="text24202">
        <tspan
            sodipodi:role="line"
            id="tspan24200"
            style="stroke-width:0.706"
            x="427.97311"
            y="164.37007">
            8
        </tspan>
    </text>
    <text
        xml:space="preserve"
        style="font-size:5.64444px;text-align:center;text-anchor:middle;fill:#1a1a1a;fill-opacity:1;stroke:none;stroke-width:0.706001;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
        x="434.84271"
        y="174.94987"
        id="text24206">
        <tspan
            sodipodi:role="line"
            id="tspan24204"
            style="stroke-width:0.706"
            x="434.84271"
            y="174.94987">
            10
        </tspan>
    </text>
</g>
<style>
    .rotate-@GageStyleId{
    transform-origin: center;
    transform-box: fill-box;
    transform: rotate(@(angle)deg);
    }
</style>


@code{

    public string GageStyleId {get; set; } = new Random().Next(1000,9999).ToString();
    private int angle {
        get
        {
            Console.WriteLine("" + max_range);
            Console.WriteLine("" + min_range);
                        Console.WriteLine("val:" + Value);


            var range = (max_range - min_range);
            return (int)((130 / range) * Value)+10;
        }
    }


    private int min_range = 0;
    private int max_range = 10;

    private string FormatDouble(double value)
    {
        return $"{value:0.#}";
    }

    private string GetLabel(int index)
    {
        var range = (To - From) / 6;
        return index switch
        {
            0 => FormatDouble(From),
            6 => FormatDouble(To),
            _ => FormatDouble(From + index * range)
            };
    }

}